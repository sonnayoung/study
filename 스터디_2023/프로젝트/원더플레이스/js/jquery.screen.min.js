/**
 * @name screen
 * @author JungHyunKwon
 * @since 2017-11-03
 * @version 1.0.0
 *	   state : [{
 *	       name : string,
 *		   horizontal : {
 *			   from : number,
 *			   to : number
 *		   },
 *		   vertical : {
 *			   from : number,
 *			   to : number
 *		   }
 *	   }]
 * @return {object}
 */
!function($){var _$window=$(window),_html=document.documentElement,_htmlCss=_getCss(_html),_$Event=$.Event,_$extend=$.extend,_$inArray=$.inArray,_$isNumeric=$.isNumeric,_$isArray=$.isArray,_element=document.getElementById("screen"),_settings={};function _getCss(e){var t={};try{t=e.currentStyle||getComputedStyle(e)}catch(e){}return t}function _deduplicateArray(e){for(var t=[],r=0,i=e.length;r<i;r++){var n=e[r];-1===_$inArray(n,t)&&t.push(n)}return t}function _filterArray(e,t){for(var r=[],i=[],n={truth:r,untruth:i},a=0,s=e.length;a<s;a++){var o=e[a];_$inArray(o,t)>-1?r.push(o):i.push(o)}return n}function _sortArray(e,t){for(var r=[],i=0,n=e.length;i<n;i++){var a=e[i],s=_$inArray(a,t);s>-1&&(r[s]=a)}for(i=0;i<r.length;i++)r.hasOwnProperty(i)||(r.splice(i,1),i--);return r}function _getScrollbarSize(){return _element.offsetWidth-_element.clientWidth}function _hasScrollbar(){var e=_htmlCss.overflowX,t=_htmlCss.overflowY;return{horizontal:_html.scrollWidth>_html.clientWidth&&"hidden"!==e||"scroll"===e,vertical:_html.scrollHeight>_html.clientHeight&&"hidden"!==t||"scroll"===t}}function _filterState(e){var t=[];if("string"==typeof e&&(e=[e]),_$isArray(e)){var r=_settings.name;t=_sortArray(_filterArray(_deduplicateArray(e),r).truth,r)}return t}function _setScreen(){var e=_hasScrollbar(),t=e.horizontal,r=e.vertical,i=_getScrollbarSize(),n=_$window.width(),a=_$window.height();r&&(n+=i),t&&(a+=i),_settings.horizontalScrollbar=t,_settings.verticalScrollbar=r,_settings.scrollbarSize=i,_settings.width=n,_settings.height=a}function _setState(e){var t=_settings.state,r=_filterArray(e,t),i=r.untruth,n=_filterArray(t,r.truth).untruth;return(i.length||n.length)&&(_settings.state=e,console.log("상태 : "+e.join(", "))),{activeState:i,deactiveState:n}}function _event(e){var t=new _$Event;_$screen.settings=_$extend(_$screen.settings,_settings);for(var r=0,i=e.length;r<i;r++){var n=e[r];t.type="screen",t.state=n,_$window.triggerHandler(t),t.type+=":"+n,_$window.triggerHandler(t)}}function _destroy(){_$window.off(".screen"),_settings.state=[],_$screen.settings=void 0,$(_element).remove()}_element||(_element=document.createElement("div"),_element.id="screen");var _$screen=$.screen=function(options){if(options){var state=options.state,name=[],width=0,height=0,timer=0,code="var inState = [];\n\n";if(_destroy(),_html.appendChild(_element),_$isArray(state))for(var i=0,stateLength=state.length;i<stateLength;i++){var value=state[i];if(value){var stateName=value.name;if("string"==typeof stateName){var horizontal=value.horizontal,hasHorizontal=!1,vertical=value.vertical,hasVertical=!1;if(horizontal){var horizontalFrom=horizontal.from,horizontalTo=horizontal.to;_$isNumeric(horizontalFrom)||(horizontalFrom=-1),_$isNumeric(horizontalTo)||(horizontalTo=-1),horizontalFrom>=0&&horizontalTo>=0&&horizontalFrom>=horizontalTo&&(hasHorizontal=!0)}if(vertical){var verticalFrom=vertical.from,verticalTo=vertical.to;_$isNumeric(verticalFrom)||(verticalFrom=-1),_$isNumeric(verticalTo)||(verticalTo=-1),verticalFrom>=0&&verticalTo>=0&&verticalFrom>=verticalTo&&(hasVertical=!0)}(hasHorizontal||hasVertical)&&(code+="if(",hasHorizontal&&(code+="width <= "+horizontalFrom+" && width >= "+horizontalTo),hasVertical&&(hasHorizontal&&(code+=" && "),code+="height <= "+verticalFrom+" && height >= "+verticalTo),code+=") {\n",code+="    inState.push('"+stateName+"');\n",code+="}\n\n",name.push(stateName))}}}_settings.name=name,_$window.on("resize.screen",function(event){_setScreen();var screenWidth=_settings.width,screenHeight=_settings.height,resizeState=[],resizedState=[],isWidthChange=!1,isHeightChange=!1,isTrigger=event instanceof _$Event&&event.isTrigger;screenWidth!==width&&(width=screenWidth,isWidthChange=!0),screenHeight!==height&&(height=screenHeight,isHeightChange=!0),isTrigger&&(isWidthChange=!1,isHeightChange=!1),_settings.widthChange=isWidthChange,_settings.heightChange=isHeightChange,eval(code),inState.length||(inState[0]="none");var setState=_setState(inState),activeState=setState.activeState;isTrigger||(resizeState[0]="resize",resizedState[0]="resized");for(var i=0,inStateLength=inState.length;i<inStateLength;i++){var value=inState[i];isTrigger||(resizeState.push("resize:"+value),resizedState.push("resized:"+value)),_$inArray(value,activeState)>-1&&resizeState.push(value)}_event(resizeState),timer&&(clearTimeout(timer),timer=0),timer=setTimeout(function(){_setScreen(),_settings.widthChange=!1,_settings.heightChange=!1,_event(resizedState)},250)}).triggerHandler("resize.screen")}return _$window};_$screen.destroy=_destroy,_$screen.setState=function(e){var t=_filterState(e),r=!1;if(t.length){var i=_setState(t),n=i.activeState;(n.length||i.deactiveState.length)&&(_event(n),r=!0)}return r}}(jQuery);